<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Summary Information for Species Across Time Slices — get_summary_slices • Buccaneer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Summary Information for Species Across Time Slices — get_summary_slices"><meta name="description" content="This function processes fossil occurrence data to generate summaries across
discrete time slices. It calculates species temporal ranges (origination and
extinction times) from occurrence records, identifies which species are present
in each time slice, counts occurrence records per species, and creates
species-by-species co-occurrence matrices. The function also flags occurrences
with large age uncertainties based on a user-defined threshold."><meta property="og:description" content="This function processes fossil occurrence data to generate summaries across
discrete time slices. It calculates species temporal ranges (origination and
extinction times) from occurrence records, identifies which species are present
in each time slice, counts occurrence records per species, and creates
species-by-species co-occurrence matrices. The function also flags occurrences
with large age uncertainties based on a user-defined threshold."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Buccaneer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pre-processing-data.html">Pre processing data with Buccaneer</a></li>
    <li><a class="dropdown-item" href="../articles/time-series-metrics.html">Time series metrics</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get Summary Information for Species Across Time Slices</h1>

      <div class="d-none name"><code>get_summary_slices.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function processes fossil occurrence data to generate summaries across
discrete time slices. It calculates species temporal ranges (origination and
extinction times) from occurrence records, identifies which species are present
in each time slice, counts occurrence records per species, and creates
species-by-species co-occurrence matrices. The function also flags occurrences
with large age uncertainties based on a user-defined threshold.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_summary_slices</span><span class="op">(</span></span>
<span>  <span class="va">df.TS.TE</span>,</span>
<span>  <span class="va">timeframe</span>,</span>
<span>  method.ages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"midpoint"</span>, <span class="st">"upper"</span>, <span class="st">"lower"</span><span class="op">)</span>,</span>
<span>  thresh.age.range <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  species <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>  Max.age <span class="op">=</span> <span class="st">"Maximum_Age"</span>,</span>
<span>  Min.age <span class="op">=</span> <span class="st">"Minimum_Age"</span>,</span>
<span>  TS <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TE <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lng <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trait <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df-ts-te">df.TS.TE<a class="anchor" aria-label="anchor" href="#arg-df-ts-te"></a></dt>
<dd><p>A data frame containing fossil occurrence records with at least
three columns: species names, maximum (oldest) age estimates, and minimum
(youngest) age estimates. Additional columns may include spatial coordinates,
site information, group assignments, and trait values.</p></dd>


<dt id="arg-timeframe">timeframe<a class="anchor" aria-label="anchor" href="#arg-timeframe"></a></dt>
<dd><p>Numeric. The time interval (in millions of years or appropriate
time units) between consecutive time slices. Negative values will create
backwards intervals from the oldest to youngest occurrences.</p></dd>


<dt id="arg-method-ages">method.ages<a class="anchor" aria-label="anchor" href="#arg-method-ages"></a></dt>
<dd><p>Character. The method used to estimate species ages from
occurrence records. Options include:</p><ul><li><p><code>"midpoint"</code> (default): Use the midpoint between max and min ages</p></li>
<li><p><code>"upper"</code>: Use the maximum (oldest) age</p></li>
<li><p><code>"lower"</code>: Use the minimum (youngest) age</p></li>
</ul></dd>


<dt id="arg-thresh-age-range">thresh.age.range<a class="anchor" aria-label="anchor" href="#arg-thresh-age-range"></a></dt>
<dd><p>Numeric. The threshold for flagging occurrence records
with large age uncertainties. Records with age ranges (Max.age - Min.age)
greater than or equal to this value are flagged. Default is 10.</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>Character. The name of the column in <code>df.TS.TE</code> containing
species identifiers. Default is "species".</p></dd>


<dt id="arg-max-age">Max.age<a class="anchor" aria-label="anchor" href="#arg-max-age"></a></dt>
<dd><p>Character. The name of the column in <code>df.TS.TE</code> containing
the maximum (oldest) age estimate for each occurrence record. Default is "Maximum_Age".</p></dd>


<dt id="arg-min-age">Min.age<a class="anchor" aria-label="anchor" href="#arg-min-age"></a></dt>
<dd><p>Character. The name of the column in <code>df.TS.TE</code> containing
the minimum (youngest) age estimate for each occurrence record. Default is "Minimum_Age".</p></dd>


<dt id="arg-ts">TS<a class="anchor" aria-label="anchor" href="#arg-ts"></a></dt>
<dd><p>Character. The name of the column containing origination (first
appearance) times. Default is NULL. If NULL, TS is calculated as the
maximum midpoint age for each species.</p></dd>


<dt id="arg-te">TE<a class="anchor" aria-label="anchor" href="#arg-te"></a></dt>
<dd><p>Character. The name of the column containing extinction (last
appearance) times. Default is NULL. If NULL, TE is calculated as the
minimum midpoint age for each species.</p></dd>


<dt id="arg-lat">lat<a class="anchor" aria-label="anchor" href="#arg-lat"></a></dt>
<dd><p>Character. The name of the column containing latitude coordinates.
Default is NULL. If provided, latitude information is retained in output.</p></dd>


<dt id="arg-lng">lng<a class="anchor" aria-label="anchor" href="#arg-lng"></a></dt>
<dd><p>Character. The name of the column containing longitude coordinates.
Default is NULL. If provided, longitude information is retained in output.</p></dd>


<dt id="arg-site">site<a class="anchor" aria-label="anchor" href="#arg-site"></a></dt>
<dd><p>Character. The name of the column containing site location identifiers.
Default is NULL. If provided, site information is retained in output.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Character. The name of the column containing group assignments
for species (e.g., clade, family). Default is NULL. If provided, group
information is retained in output.</p></dd>


<dt id="arg-trait">trait<a class="anchor" aria-label="anchor" href="#arg-trait"></a></dt>
<dd><p>Character. The name of the column containing trait values for
species. Default is NULL. If provided, trait information is retained in output.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments (currently not used but reserved for future extensions).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing two elements:</p>
<dl><dt>df_sub_bin</dt>
<dd><p>A named list of data frames, one for each time slice.
Each data frame contains all occurrence records present in that slice,
with added columns:</p><ul><li><p><code>midpoint</code>: Numeric. The midpoint age of each occurrence</p></li>
<li><p><code>age.range</code>: Numeric. The age uncertainty (Max.age - Min.age)</p></li>
<li><p><code>flag.age.range</code>: Character. "TRUE" if age.range &gt;= thresh.age.range,
"FALSE" otherwise</p></li>
<li><p><code>TS</code>: Numeric. Species origination time (maximum midpoint)</p></li>
<li><p><code>TE</code>: Numeric. Species extinction time (minimum midpoint)</p></li>
<li><p><code>count_records</code>: Integer. Number of occurrence records for
each species in that time slice</p></li>
</ul><p>List names follow the format "slice_X" where X is the time slice value.</p></dd>

<dt>coex_matrix</dt>
<dd><p>A named list of binary co-occurrence matrices, one for
each time slice. Each matrix:</p><ul><li><p>Has dimensions: n × n, where n = total number of unique species
in the dataset</p></li>
<li><p>Contains 1 if a species is present in the time slice, 0 if absent</p></li>
<li><p>Has row and column names as species identifiers</p></li>
</ul><p>List names follow the format "slice_X".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function performs the following steps:</p><ol><li><p>Validates input data structure (must be a data frame)</p></li>
<li><p>Calculates midpoint ages for each occurrence: (Max.age + Min.age) / 2</p></li>
<li><p>Calculates age uncertainties: Max.age - Min.age</p></li>
<li><p>Flags occurrences with age uncertainties &gt;= thresh.age.range</p></li>
<li><p>Computes species temporal ranges (TS and TE) from occurrence midpoints</p></li>
<li><p>Creates time slices from oldest to youngest occurrence</p></li>
<li><p>For each time slice, identifies species present (TS &gt;= slice AND TE &lt;= slice)</p></li>
<li><p>Counts occurrence records per species per time slice</p></li>
<li><p>Generates binary co-occurrence matrices for each time slice</p></li>
</ol><p>Age uncertainty handling:</p><ul><li><p><strong>flag.age.range</strong>: Identifies potentially problematic occurrences
with large temporal uncertainties</p></li>
<li><p><strong>Threshold</strong>: Adjustable via <code>thresh.age.range</code> parameter</p></li>
<li><p><strong>Use case</strong>: Helps assess data quality and decide whether to
filter or weight occurrences differently</p></li>
</ul><p>Missing value handling:</p><ul><li><p>NA values in TS or TE columns trigger a warning and are removed</p></li>
<li><p>Non-numeric TS or TE values trigger an error</p></li>
</ul><p>This function is useful for preparing fossil occurrence data for downstream
analyses such as diversity dynamics, trait evolution, or biogeographic patterns
through time.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create example fossil occurrence data</span></span></span>
<span class="r-in"><span><span class="va">df_fossils</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sp1"</span>, <span class="st">"sp2"</span>, <span class="st">"sp3"</span>, <span class="st">"sp1"</span>, <span class="st">"sp2"</span>, <span class="st">"sp4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Maximum_Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">95</span>, <span class="fl">90</span>, <span class="fl">88</span>, <span class="fl">85</span>, <span class="fl">80</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Minimum_Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95</span>, <span class="fl">90</span>, <span class="fl">85</span>, <span class="fl">83</span>, <span class="fl">80</span>, <span class="fl">75</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">12</span>, <span class="fl">18</span>, <span class="fl">25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lng <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">50</span>, <span class="op">-</span><span class="fl">55</span>, <span class="op">-</span><span class="fl">60</span>, <span class="op">-</span><span class="fl">52</span>, <span class="op">-</span><span class="fl">57</span>, <span class="op">-</span><span class="fl">65</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  site <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"D"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>, <span class="st">"G1"</span>, <span class="st">"G2"</span>, <span class="st">"G1"</span>, <span class="st">"G1"</span>, <span class="st">"G2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  trait <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">2.5</span>, <span class="fl">3.1</span>, <span class="fl">1.2</span>, <span class="fl">2.5</span>, <span class="fl">4.0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get summary for 5 Ma time slices</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">get_summary_slices</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df.TS.TE <span class="op">=</span> <span class="va">df_fossils</span>,</span></span>
<span class="r-in"><span>  timeframe <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  thresh.age.range <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View occurrences in the first time slice</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">df_sub_bin</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View co-occurrence matrix for the first time slice</span></span></span>
<span class="r-in"><span><span class="va">results</span><span class="op">$</span><span class="va">coex_matrix</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Count species richness per time slice</span></span></span>
<span class="r-in"><span><span class="va">richness_per_slice</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">df_sub_bin</span>, <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">richness_per_slice</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Count total occurrences per time slice</span></span></span>
<span class="r-in"><span><span class="va">records_per_slice</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">df_sub_bin</span>, <span class="va">nrow</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">records_per_slice</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Identify occurrences with large age uncertainties</span></span></span>
<span class="r-in"><span><span class="va">flagged_occurrences</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">results</span><span class="op">$</span><span class="va">df_sub_bin</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">flag.age.range</span> <span class="op">==</span> <span class="st">"TRUE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">flagged_occurrences</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate sampling intensity through time</span></span></span>
<span class="r-in"><span><span class="va">sampling_intensity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  slice <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">df_sub_bin</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  n_records <span class="op">=</span> <span class="va">records_per_slice</span>,</span></span>
<span class="r-in"><span>  n_species <span class="op">=</span> <span class="va">richness_per_slice</span>,</span></span>
<span class="r-in"><span>  records_per_species <span class="op">=</span> <span class="va">records_per_slice</span> <span class="op">/</span> <span class="va">richness_per_slice</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot richness through time</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">sampling_intensity</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">slice</span>, y <span class="op">=</span> <span class="va">n_species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Time Slice"</span>, y <span class="op">=</span> <span class="st">"Species Richness"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use custom age method and threshold</span></span></span>
<span class="r-in"><span><span class="va">results_upper</span> <span class="op">&lt;-</span> <span class="fu">get_summary_slices</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df.TS.TE <span class="op">=</span> <span class="va">df_fossils</span>,</span></span>
<span class="r-in"><span>  timeframe <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  method.ages <span class="op">=</span> <span class="st">"upper"</span>,</span></span>
<span class="r-in"><span>  thresh.age.range <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gabriel Nakamura, Tiago Quental.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

